{"ast":null,"code":"import axios from \"axios\";\nconst SET_MOVIES = 'SET-MOVIES',\n      SET_CURRENT_PAGE = 'SET-CURRENT-PAGE',\n      SET_TOTAL_COUNT = 'SET-TOTAL-COUNT';\nlet initialState = {\n  films: [],\n  pageSize: 1,\n  totalCount: 20,\n  currentPage: 1\n};\nexport default function filmsReducer(state = initialState, action) {\n  switch (action.type) {\n    case SET_MOVIES:\n      return { ...state,\n        films: action.films\n      };\n\n    case SET_CURRENT_PAGE:\n      return { ...state,\n        currentPage: action.currentPage\n      };\n\n    case SET_TOTAL_COUNT:\n      return { ...state,\n        totalCount: action.totalCount\n      };\n\n    default:\n      return state;\n  }\n}\nexport const setMovies = films => ({\n  type: SET_MOVIES,\n  films\n});\nexport const setCurrentPage = currentPage => ({\n  type: SET_CURRENT_PAGE,\n  currentPage\n});\nexport const setTotalCount = totalCount => ({\n  type: SET_TOTAL_COUNT,\n  totalCount\n});\nexport const getMovies = (currentPage, pageSize) => async dispatch => {\n  axios.get(`https://yts.mx/api/v2/list_movies.json?limit=20&page=${currentPage}&movie_count=${pageSize}`).then(response => {\n    dispatch(setMovies(response.data.data.movies));\n    dispatch(setTotalCount(response.data.data.movie_count));\n  });\n};","map":{"version":3,"sources":["C:/Users/SOUL/Desktop/tz/second/src/components/redux/films-reducer.js"],"names":["axios","SET_MOVIES","SET_CURRENT_PAGE","SET_TOTAL_COUNT","initialState","films","pageSize","totalCount","currentPage","filmsReducer","state","action","type","setMovies","setCurrentPage","setTotalCount","getMovies","dispatch","get","then","response","data","movies","movie_count"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,UAAU,GAAG,YAAnB;AAAA,MACMC,gBAAgB,GAAG,kBADzB;AAAA,MAEMC,eAAe,GAAG,iBAFxB;AAIA,IAAIC,YAAY,GAAG;AACfC,EAAAA,KAAK,EAAE,EADQ;AAEfC,EAAAA,QAAQ,EAAE,CAFK;AAGfC,EAAAA,UAAU,EAAE,EAHG;AAIfC,EAAAA,WAAW,EAAE;AAJE,CAAnB;AAQA,eAAe,SAASC,YAAT,CAAuBC,KAAK,GAAIN,YAAhC,EAA8CO,MAA9C,EAAsD;AAEjE,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKX,UAAL;AACI,aAAO,EAAC,GAAGS,KAAJ;AAAWL,QAAAA,KAAK,EAAEM,MAAM,CAACN;AAAzB,OAAP;;AACJ,SAAKH,gBAAL;AACI,aAAO,EAAC,GAAGQ,KAAJ;AAAWF,QAAAA,WAAW,EAAEG,MAAM,CAACH;AAA/B,OAAP;;AACJ,SAAKL,eAAL;AACI,aAAO,EAAC,GAAGO,KAAJ;AAAWH,QAAAA,UAAU,EAAEI,MAAM,CAACJ;AAA9B,OAAP;;AACJ;AACI,aAAOG,KAAP;AARR;AAUH;AAED,OAAO,MAAMG,SAAS,GAAIR,KAAD,KAAY;AAACO,EAAAA,IAAI,EAAEX,UAAP;AAAmBI,EAAAA;AAAnB,CAAZ,CAAlB;AACP,OAAO,MAAMS,cAAc,GAAIN,WAAD,KAAkB;AAACI,EAAAA,IAAI,EAAEV,gBAAP;AAAyBM,EAAAA;AAAzB,CAAlB,CAAvB;AACP,OAAO,MAAMO,aAAa,GAAIR,UAAD,KAAiB;AAACK,EAAAA,IAAI,EAAET,eAAP;AAAwBI,EAAAA;AAAxB,CAAjB,CAAtB;AAEP,OAAO,MAAMS,SAAS,GAAG,CAACR,WAAD,EAAcF,QAAd,KAA2B,MAAOW,QAAP,IAAoB;AACpEjB,EAAAA,KAAK,CAACkB,GAAN,CAAW,wDAAuDV,WAAY,gBAAeF,QAAS,EAAtG,EACKa,IADL,CACUC,QAAQ,IAAI;AACdH,IAAAA,QAAQ,CAACJ,SAAS,CAACO,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBC,MAApB,CAAV,CAAR;AACKL,IAAAA,QAAQ,CAACF,aAAa,CAACK,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBE,WAApB,CAAd,CAAR;AACR,GAJL;AAMH,CAPM","sourcesContent":["import axios from \"axios\";\r\n\r\nconst SET_MOVIES = 'SET-MOVIES',\r\n      SET_CURRENT_PAGE = 'SET-CURRENT-PAGE',\r\n      SET_TOTAL_COUNT = 'SET-TOTAL-COUNT'\r\n\r\nlet initialState = {\r\n    films: [],\r\n    pageSize: 1,\r\n    totalCount: 20,\r\n    currentPage: 1\r\n}\r\n\r\n\r\nexport default function filmsReducer (state  = initialState, action) {\r\n\r\n    switch (action.type) {\r\n        case SET_MOVIES :\r\n            return {...state, films: action.films}\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case SET_TOTAL_COUNT:\r\n            return {...state, totalCount: action.totalCount}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setMovies = (films) => ({type: SET_MOVIES, films});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalCount = (totalCount) => ({type: SET_TOTAL_COUNT, totalCount})\r\n\r\nexport const getMovies = (currentPage, pageSize) => async (dispatch) => {\r\n    axios.get(`https://yts.mx/api/v2/list_movies.json?limit=20&page=${currentPage}&movie_count=${pageSize}`)\r\n        .then(response => {\r\n            dispatch(setMovies(response.data.data.movies))\r\n                 dispatch(setTotalCount(response.data.data.movie_count))\r\n        })\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}